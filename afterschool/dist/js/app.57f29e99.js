(function(){"use strict";var t={6890:function(t,s,a){var e=a(144),r=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"app"}},[s("link",{attrs:{href:"https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@1,900&display=swap",rel:"stylesheet"}}),s("link",{attrs:{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"}}),s("link",{attrs:{rel:"stylesheet",href:"styles.css"}}),s("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-transparent fixed-top",attrs:{id:"navbar"}},[s("div",{staticClass:"container-fluid"},[s("a",{staticClass:"navbar-brand",attrs:{href:"index.html"}},[t._v("After School")]),t._m(0),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[t._m(1),s("ul",{staticClass:"navbar-nav me-2"},[s("li",{staticClass:"nav-item"},[t.cartItemCount>=1?s("a",{staticClass:"nav-link",on:{click:t.showCart}},[t._v(" Cart "),s("span",{staticClass:"badge bg-secondary"},[t._v(t._s(t.cartItemCount))])]):s("a",{staticClass:"nav-link"},[t._v(" Cart")])])])])])]),t.showLessons?s("div",[t._m(2),s("div",[s("lessons-list",{attrs:{lessons:t.lessons},on:{addLesson:t.addToCart}})],1)]):s("div",[t._m(3),this.cart.length>0?s("div",[s("div",[s("checkout",{attrs:{cart:t.cart},on:{removeLesson:t.removeFromCart}})],1)]):s("div",{staticClass:"card text-bg-dark",attrs:{id:"cart-empty"}},[s("div",{staticClass:"card-img-overlay"},[s("h5",{staticClass:"card-title",attrs:{id:"banner-title"}},[t._v("OOPS.. THE CART IS EMPTY")]),s("button",{staticClass:"btn btn-lg btn-warning align-content-center",attrs:{type:"button"},on:{click:t.showCart}},[t._v("Add Lessons")])])])]),t._m(4)])},n=[function(){var t=this,s=t._self._c;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,s=t._self._c;return s("ul",{staticClass:"navbar-nav me-auto mb-2 mb-lg-0"},[s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link active",attrs:{"aria-current":"page",href:"#app"}},[t._v("Home")])])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"card text-bg-dark",attrs:{id:"banner"}},[s("div",{staticClass:"card-img-overlay"},[s("h5",{staticClass:"card-title",attrs:{id:"banner-title"}},[t._v("AFTER SCHOOL")]),s("p",{staticClass:"card-text",attrs:{id:"banner-text"}},[t._v("Classes for your kids to learn exciting, new things after school.")]),s("div",{staticClass:"text-center"},[s("button",{staticClass:"btn btn-lg",attrs:{id:"banner-button",type:"button",onClick:"document.getElementById('lessons').scrollIntoView();"}},[t._v("Book a Lesson")])])])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"card text-bg-dark",attrs:{id:"banner"}},[s("div",{staticClass:"card-img-overlay"},[s("h5",{staticClass:"card-title",attrs:{id:"banner-title"}},[t._v("CHECKOUT")])])])},function(){var t=this,s=t._self._c;return s("footer",[s("div",{staticClass:"copyright"},[s("p",{attrs:{id:"copyr"}},[t._v("Â© 2022 - CST3145 Coursework 1 by zx")])]),s("div",{staticClass:"social"},[s("a",{staticClass:"support",attrs:{id:"link",href:"#"}},[t._v("Contact Us")]),s("a",{staticClass:"face",attrs:{id:"link",href:"#"}},[t._v("f")]),s("a",{staticClass:"tweet",attrs:{id:"link",href:"#"}},[t._v("t")]),s("a",{staticClass:"linked",attrs:{id:"link",href:"#"}},[t._v("in")])])])}],i=(a(7658),function(){var t=this,s=t._self._c;return s("div",[s("link",{attrs:{rel:"stylesheet",href:"styles.css"}}),s("div",{staticClass:"col-md-12 p-4"},[s("form",{staticClass:"d-flex",attrs:{role:"search"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],staticClass:"form-control bg-light",attrs:{type:"search",placeholder:"Search","aria-label":"Search",id:"search-input"},domProps:{value:t.searchValue},on:{input:function(s){s.target.composing||(t.searchValue=s.target.value)}}})])]),s("div",{staticClass:"btn-toolbar justify-content-evenly",attrs:{role:"toolbar"}},[s("p",{staticClass:"sort-label"},[t._v("Sort By:")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.sortBy,expression:"sortBy"}],staticClass:"form-select-lg",attrs:{name:"sortBy",id:"sort-btn","aria-label":".form-select-lg example"},on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.sortBy=s.target.multiple?a:a[0]}}},[s("option",{staticClass:"text-center",attrs:{value:"subject"}},[t._v("Subject")]),s("option",{staticClass:"text-center",attrs:{value:"location"}},[t._v("Location")]),s("option",{staticClass:"text-center",attrs:{value:"availability"}},[t._v("Availability")]),s("option",{staticClass:"text-center",attrs:{value:"price"}},[t._v("Price")])]),s("p",{staticClass:"sort-label"},[t._v(" Sort In:")]),s("button",{staticClass:"btn btn-warning",attrs:{id:"sort-btn",type:"button"},on:{click:function(s){t.ascending=!t.ascending}}},[t.ascending?s("span",{staticClass:"fa fa-sort-up"},[t._v("Ascending")]):s("span",{staticClass:"fa fa-sort-down"},[t._v("Descending")])])]),s("div",{staticClass:"row row-cols-1 row-cols-md-3 g-3",attrs:{id:"lessons"}},t._l(t.sortedLessons,(function(a){return s("div",{key:a.id},[s("div",{staticClass:"card mb-3",staticStyle:{"max-width":"540px"},attrs:{id:"lesson"}},[s("div",{staticClass:"row g-0"},[s("div",{staticClass:"col-md-6 p-4"},[s("img",{staticClass:"img-fluid rounded-start",attrs:{src:a.image,alt:"Math Lesson Icon"}})]),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title text-light",domProps:{textContent:t._s(a.title)}}),s("p",{staticClass:"card-text text-light"},[s("small",{staticClass:"text-light--muted",domProps:{textContent:t._s(a.description)}})]),s("p",{staticClass:"card-text text-light"},[t._v("Cost: "),s("b",[t._v(t._s(a.price))]),t._v(" dhs/month.")]),s("p",{staticClass:"card-text text-light"},[s("small",{staticClass:"text-light--muted"},[t._v("Location: "+t._s(a.location))])]),s("p",{staticClass:"card-text text-light"},[s("small",{staticClass:"text-light--muted"},[t._v("Spaces: "+t._s(a.availableLessons))])]),t.canAddToCart(a)?s("button",{staticClass:"btn btn-outline-warning",attrs:{type:"button"},on:{click:function(s){return t.addToCart(a)}}},[s("span",{staticClass:"fas fa-cart-plus"}),t._v(" Add to cart")]):s("button",{staticClass:"btn btn-secondary",attrs:{disabled:"disabled",type:"button"}},[s("span",{staticClass:"fas fa-cart-plus"}),t._v(" Add to cart")])])])])])])})),0)])}),o=[],l={name:"LessonsList",props:["lessons"],data(){return{ascending:!0,sortBy:"subject",searchValue:""}},methods:{addToCart(t){console.log("added lesson",t.id),this.$emit("addLesson",t)},canAddToCart(t){return t.availableLessons>0}},computed:{sortedLessons(){let t=this.lessons.slice(0);return""!=this.searchValue&&this.searchValue&&(t=t.filter((t=>t.title.toUpperCase().includes(this.searchValue.toUpperCase())||t.location.toUpperCase().includes(this.searchValue.toUpperCase())))),t=t.sort(((t,s)=>{if("subject"===this.sortBy){let a=t.title.toLowerCase(),e=s.title.toLowerCase();return a<e?-1:a>e?1:0}if("price"===this.sortBy)return t.price-s.price;if("availability"===this.sortBy)return t.availableLessons-s.availableLessons;if("location"===this.sortBy){let a=t.location.toLowerCase(),e=s.location.toLowerCase();return a<e?-1:a>e?1:0}})),this.ascending||t.reverse(),t}}},c=l,d=a(1001),u=(0,d.Z)(c,i,o,!1,null,null,null),v=u.exports,p=function(){var t=this,s=t._self._c;return s("div",{staticClass:"row row-cols-2 row-cols-md-2 g-3",attrs:{id:"lessons"}},[s("link",{attrs:{rel:"stylesheet",href:"styles.css"}}),s("div",{staticClass:"row row-cols-1 row-cols-md-1 g-2"},t._l(t.cart,(function(a){return s("div",{key:a.id},[s("div",{staticClass:"card mb-1",attrs:{id:"lesson"}},[s("div",{staticClass:"row g-0"},[s("div",{staticClass:"col-md-4 p-4"},[s("img",{staticClass:"img-fluid rounded-start",attrs:{src:a.image,alt:"Math Lesson Icon"}})]),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title text-light",domProps:{textContent:t._s(a.title)}}),s("p",{staticClass:"card-text text-light"},[t._v("Cost: "),s("b",[t._v(t._s(a.price))]),t._v(" dhs/month.")]),s("p",{staticClass:"card-text text-light"},[s("small",{staticClass:"text-light--muted"},[t._v("Location: "+t._s(a.location))])]),s("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(s){return t.removeFromCart(a)}}},[t._v(" Remove from cart")])])])])])])})),0),s("div",[s("form",{attrs:{id:"checkout-form"}},[s("h5",[t._v("Checkout")]),s("div",{staticClass:"mb-3 mt-3"},[s("label",{staticClass:"form-label",attrs:{for:"name"}},[t._v("Name:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.order.name,expression:"order.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter name"},domProps:{value:t.order.name},on:{input:function(s){s.target.composing||t.$set(t.order,"name",s.target.value)}}})]),s("div",{staticClass:"mb-3"},[s("label",{staticClass:"form-label",attrs:{for:"pnumber"}},[t._v("Phone Number:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.order.number,expression:"order.number"}],staticClass:"form-control",attrs:{type:"text",id:"pnumber",placeholder:"Enter Phone Number"},domProps:{value:t.order.number},on:{input:function(s){s.target.composing||t.$set(t.order,"number",s.target.value)}}})]),s("p",{staticClass:"text-danger"},[t._v(t._s(t.order.validationMessage))]),t.formValidated?s("button",{staticClass:"btn btn-primary",on:{click:t.placeOrder}},[t._v("Place Order")]):s("button",{staticClass:"btn btn-primary",attrs:{disabled:"disabled"}},[t._v("Place Order")])])])])},m=[],h={name:"CheckoutForm",props:["cart"],data(){return{order:{name:"",number:"",validationMessage:""}}},methods:{removeFromCart(t){this.$emit("removeLesson",t)},placeOrder(){alert("Order Placed Successfully!"),this.name="",this.number="",this.validationMessage="",this.cart.splice(0,this.cart.length)}},computed:{formValidated(){const t=/^[A-Za-z]+$/,s=/^[0-9]+$/;return!(!this.order.name.match(t)||!this.order.number.match(s))}}},b=h,C=(0,d.Z)(b,p,m,!1,null,null,null),f=C.exports,g={name:"App",components:{lessonsList:v,checkout:f},data(){return{cart:[],lessons:[],showLessons:!0}},created:function(){fetch("http://localhost:3000/collection/lessons").then((t=>{t.json().then((t=>{this.lessons=t,console.log(t)}))}))},methods:{showCart(){this.showLessons=!this.showLessons},addToCart(t){this.cart.push(t),t.availableLessons--},removeFromCart(t){t.availableLessons++;for(let s=0;s<=this.cart.length;s++)if(this.cart[s].id===t.id){this.cart.splice(s,1);break}}},computed:{cartItemCount(){return this.cart.length||""}}},_=g,y=(0,d.Z)(_,r,n,!1,null,null,null),x=y.exports;a(8877);e.ZP.config.productionTip=!1,new e.ZP({render:t=>t(x)}).$mount("#app")}},s={};function a(e){var r=s[e];if(void 0!==r)return r.exports;var n=s[e]={exports:{}};return t[e](n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(s,e,r,n){if(!e){var i=1/0;for(d=0;d<t.length;d++){e=t[d][0],r=t[d][1],n=t[d][2];for(var o=!0,l=0;l<e.length;l++)(!1&n||i>=n)&&Object.keys(a.O).every((function(t){return a.O[t](e[l])}))?e.splice(l--,1):(o=!1,n<i&&(i=n));if(o){t.splice(d--,1);var c=r();void 0!==c&&(s=c)}}return s}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[e,r,n]}}(),function(){a.d=function(t,s){for(var e in s)a.o(s,e)&&!a.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:s[e]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};a.O.j=function(s){return 0===t[s]};var s=function(s,e){var r,n,i=e[0],o=e[1],l=e[2],c=0;if(i.some((function(s){return 0!==t[s]}))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(l)var d=l(a)}for(s&&s(e);c<i.length;c++)n=i[c],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(d)},e=self["webpackChunkafterschool"]=self["webpackChunkafterschool"]||[];e.forEach(s.bind(null,0)),e.push=s.bind(null,e.push.bind(e))}();var e=a.O(void 0,[998],(function(){return a(6890)}));e=a.O(e)})();
//# sourceMappingURL=app.57f29e99.js.map